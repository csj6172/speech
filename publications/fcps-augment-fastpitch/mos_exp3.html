<html>


<head>
  <meta charset="UTF-8">
  <title>ICASSP2021 청취 평가 페이지 - 배한빈</title>
</head>

<body>
  <article>
    <header>
      <h1>ICASSP2021 청취 평가 - "Formant-Conserved Pitch Shift를 이용한 Data Augmentation 및 FastPitch 모델 개선"</h1>
    </header>
  </article>

  <p class="toc_title"><br>
    <h2>청취 평가 안내도</h2>
  </p>
  <img src="images/img3_exp3.png" alt="My Image" >
  <div>
    <br/> 본 평가에서는 FastPitch(Text-to-Speech 모델) 모델을 기존 방식과 제안한 방식으로 학습한 모델의 <b>합성음</b>을 평가합니다.
    <br/> 그리고 원시 DB와 Augmented DB 의 음질도 평가합니다.
    <br/> <b>노란색 음영</b>은 반음(Semitone)단위의 &alpha; 값으로, 해당 값 만큼 Pitch shift를 합니다.
    <br/> Pitch Shift 값의 범위는 <b>(-4, -2, 0, +2, +4)</b>로, 샘플 페이지는 <b>가로</b>로, 설문지는 <b>세로</b>로 표현되어 있습니다.
    <br /> <b>샘플페이지의 순서와 설문지의 순서를 헷갈리지 않게 주의 부탁드립니다.</b>
  </div>

    <p class="toc_title"><br>
      <h2>평가 3 : FastPitch 모델 발화 음질 (Speech Quality) 평가</h2>
    </p>

    <div>
      <br /> 샘플을 듣고 해당 샘플의 왜곡 정도 및 품질을 평가 하시면 됩니다.
      
      <br /> 발화 음질 점수에 대한 예시 입니다.

      <table>
        <tbody>
          <tr>
            <td nowrap></td>
            <td align="center">점수</td>
            <td align="center">샘플</td>
            <td align="center">특징</td>
          </tr>
          <tr>
            <td nowrap>Sample1</td>
            <td nowrap><b>0~1점</b></td>
            <td><audio style="width:100px;height:32px" controls="">
                <source src="samples/example/sq1_334.wav" type="audio/wav"></audio></td>
            <td><b> 소리에 잡음이나 왜곡이 심하여 듣기가 매우 힘듦. </b></td>
          </tr>
          <tr>
            <td nowrap>Sample2</td>
            <td nowrap><b>2~3점</b></td>
            <td><audio style="width:100px;height:32px" controls="">
                <source src="samples/example/sq2_030.wav" type="audio/wav"></audio></td>
            <td nowrap><b>잡음이나 왜곡이 있음.</b></td>

          </tr>
          <tr>
            <td nowrap>Sample3</td>
            <td nowrap><b>4~5점</b></td>
            <td><audio style="width:100px;height:32px" controls="">
                <source src="samples/example/sq3_045.wav" type="audio/wav"></audio></td>
            <td nowrap><b>소리가 매우 명료하고, 잡음, 왜곡이 없음.</b></td>

          </tr>
        </tbody>
      </table>

      <br /> <b>FastPitch</b> 모델의 합성음 또는 DB/Augmented-DB의 음성으로 같은 샘플이라도 &alpha; 에 따라 합성음의 품질이 서로 다릅니다.
      <br /> <b>힘드시더라도 반드시! 모든 샘플 청취 부탁드립니다!!</b>

      <br /> <b>평가 시작 - (중요) 점수 기준은 이해 안됨(0) ---- 이해 됨(5) 입니다!! </b>
      
      <table>
        <script language="JavaScript">
          // var alphas = ["-6", "-5", "-4", "-3", "-2", "-1", "0", "1", "2", "3", "4", "5", "6"];
  
          var alphas = ["-4", "-2",  "0",  "2", "4"];
          n=5

          // 0 : baseline   1 : augment
          var samples = [0, 2, 0, 2, 2, 1, 2, 0, 0, 1, 2, 1, 0, 1, 2, 2, 1, 1, 1, 2, 0, 0, 2, 1, 0, 2, 1, 1, 0, 0] 
          exp_name = 'samples/exp2_fastpitch/'
       
        
          String.prototype.fillZero = function(width){
              return this.length >= width ? this:new Array(width-this.length+1).join('0')+this;//남는 길이만큼 0으로 채움
          }
          Number.prototype.fillZero = function(width){
              let n = String(this);//문자열 변환
              return n.length >= width ? n:new Array(width-n.length+1).join('0')+n;//남는 길이만큼 0으로 채움
          }
          
          
          // 0~9 번 샘플로 구성.
          cbase=0;
          caug=0;
          corig=0;
          for(i=0;i<30;i++)
          {
            if(i%5 ==0)
              document.write("<tr>  <td> <b> 감사합니다 </b> </td> </tr>");

            if(samples[i] == 0){
              tag = 'baseline';
              fname = (20+cbase).fillZero(3)+ ".wav"
              cbase++;
            }
            else if(samples[i] == 1) {
              tag = 'augment';
              fname = (20+caug).fillZero(3)+ ".wav"
              caug++;
            }
            else if(samples[i] == 2){
              tag = 'origin'
              fname = (20+corig).fillZero(3) + ".wav"
              corig++;
            }
  
            document.write("<tr>"); 
          
            document.write("<td><b></b></td>");
            for(j=0;j<n;j++){
              document.write("<td align=\"center\">&alpha;="+alphas[j]+"</td>");
            }
              
            document.write("</tr>");
            
            // all_pred
            document.write("<tr>");
            document.write("<td>E3-"+ (i+1) +"</td>");
  
            for(j=0;j<n;j++){
              alpha = alphas[j]
              document.write("<td><audio style=\"width:100px;height:32px\" controls=\"\">");
              
              if(tag == 'origin')
                document.write("<source src=\"" + "samples/exp1_sox_fcps/neutral/fcps/" + alpha + "/" + fname + "\" type=\"audio/wav\"></audio></td>");
              else  
                document.write("<source src=\"" + exp_name + tag +"/neutral/all_pred/" + alpha+ "/" + fname + "\" type=\"audio/wav\"></audio></td>");
            }
          }

          cbase=0;
          caug=0;
          corig=0;
          for(i=0;i<30;i++)
          {
            if(i%5 ==0)
              document.write("<tr>  <td> <b> 감사합니다 </b> </td> </tr>");
            if(samples[i] == 0){
              tag = 'baseline';
              fname = (50+cbase).fillZero(3)+ ".wav"
              cbase++;
            }
            else if(samples[i] == 1) {
              tag = 'augment';
              fname = (50+caug).fillZero(3)+ ".wav"
              caug++;
            }
            else if(samples[i] == 2){
              tag = 'origin'
              fname = (50+corig).fillZero(3) + ".wav"
              corig++;
            }
  
            document.write("<tr>"); 
          
            document.write("<td><b>  </b></td>");
            for(j=0;j<n;j++){
              document.write("<td align=\"center\">&alpha;="+alphas[j]+"</td>");
            }
              
            document.write("</tr>");
            
            // all_pred
            document.write("<tr>");
            document.write("<td>E3-"+ (i+31) +"</td>");
  
            for(j=0;j<n;j++){
              alpha = alphas[j]
              document.write("<td><audio style=\"width:100px;height:32px\" controls=\"\">");
              
              if(tag == 'origin')
                document.write("<source src=\"" + "samples/exp1_sox_fcps/dialog/fcps/" + alpha + "/" + fname + "\" type=\"audio/wav\"></audio></td>");
              else  
                document.write("<source src=\"" + exp_name + tag +"/dialog/all_pred/" + alpha+ "/" + fname + "\" type=\"audio/wav\"></audio></td>");
            }
          }
  
          document.write("");
        </script>
      </table>

    </div>




</body>

</html>
